!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e(t.ReactUniversalMedia={},t.React)}(this,function(t,e){"use strict";function n(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t){return function(){return t}}e=e&&e.hasOwnProperty("default")?e.default:e;var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t};var i=o;var a,u=function(t,e,n,r,o,i,a,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],f=0;(c=new Error(e.replace(/%s/g,function(){return s[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s=n(function(t){t.exports=function(){function t(t,e,n,r,o,i){i!==c&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}()}),f=function(t,e,n,r,o,i,a,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],f=0;(c=new Error(e.replace(/%s/g,function(){return s[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},p=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},l=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,o){var i=t[r];r=p(r),/[height|width]$/.test(r)&&"number"==typeof i&&(i+="px"),e+=!0===i?r:!1===i?"not "+r:"("+r+": "+i+")",o<n.length-1&&(e+=" and ")}),e},h=function(t){var e="";return"string"==typeof t?t:t instanceof Array?(t.forEach(function(n,r){e+=l(n),r<t.length-1&&(e+=", ")}),e):l(t)},d=n(function(t,n){n.__esModule=!0;o(e);var r=o(s);function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=0;n.default=function(t){var n,o,s="__create-react-context-"+c+++"__",f=function(t){function e(){var n,r,o,u;i(this,e);for(var c=arguments.length,s=Array(c),f=0;f<c;f++)s[f]=arguments[f];return n=r=a(this,t.call.apply(t,[this].concat(s))),r.emitter=(o=r.props.value,u=[],{on:function(t){u.push(t)},off:function(t){u=u.filter(function(e){return e!==t})},get:function(){return o},set:function(t){o=t,u.forEach(function(t){return t(o)})}}),a(r,n)}return u(e,t),e.prototype.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},e.prototype.componentWillReceiveProps=function(t){this.props.value!==t.value&&this.emitter.set(t.value)},e.prototype.render=function(){return this.props.children},e}(e.Component);f.childContextTypes=((n={})[s]=r.default.object.isRequired,n);var p=function(e){function n(){var t,r;i(this,n);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return t=r=a(this,e.call.apply(e,[this].concat(u))),r.state={value:r.getValue()},r.onUpdate=function(){r.setState({value:r.getValue()})},a(r,t)}return u(n,e),n.prototype.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate)},n.prototype.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[s]?this.context[s].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(e.Component);return p.contextTypes=((o={})[s]=r.default.object,o),{Provider:f,Consumer:p}},t.exports=n.default}),y=((a=d)&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a)(!1),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},g=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},_=function(t){function n(){var e,r;v(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=g(this,t.call.apply(t,[this].concat(i))),r.state={matches:r.props.defaultMatches},r.updateMatches=function(){return r.setState({matches:r.mediaQueryList.matches})},g(r,e)}return w(n,t),n.prototype.componentWillMount=function(){if("object"===("undefined"==typeof window?"undefined":m(window))){var t=this.props.targetWindow||window;"function"!=typeof t.matchMedia&&("production"!==process.env.NODE_ENV?f(!1,"<Media targetWindow> does not support `matchMedia`."):f(!1));var e=this.props.query;"string"!=typeof e&&(e=h(e)),this.mediaQueryList=t.matchMedia(e),this.mediaQueryList.addListener(this.updateMatches),this.updateMatches()}},n.prototype.componentWillUnmount=function(){this.mediaQueryList.removeListener(this.updateMatches)},n.prototype.render=function(){var t=this.props,n=t.children,r=t.render,o=t.defaultMatches;this.state.matches;return e.createElement(y.Consumer,null,function(t){var i=o;return r?i?r():null:n?"function"==typeof n?n(i):(!Array.isArray(n)||n.length)&&i?e.Children.only(n):null:null})},n}(e.Component);_.defaultProps={defaultMatches:!0};var O=function(t){function n(){var e,r;v(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=g(this,t.call.apply(t,[this].concat(i))),r.state={mounted:!1},g(r,e)}return w(n,t),n.prototype.componentDidMount=function(){this.setState({mounted:!0})},n.prototype.render=function(){var t=this.state.mounted;return e.createElement(y.Provider,b({value:t},this.props))},n}(e.Component);t.default=_,t.UniversalMediaProvider=O,Object.defineProperty(t,"__esModule",{value:!0})});
